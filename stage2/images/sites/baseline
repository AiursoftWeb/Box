{
	log {
		format json
		output file /data/caddy/logs/web.log {
			roll_size 1gb
			roll_uncompressed
		}
		level debug
	}
	servers :80 {
		listener_wrappers {
			proxy_protocol {
				timeout 2s
				allow 10.0.0.0/8
			}
		}
	}
	servers :443 {
		listener_wrappers {
			proxy_protocol {
				timeout 2s
				allow 10.0.0.0/8
			}
			http_redirect
			tls
		}
	}
}

(hsts) {
	header Strict-Transport-Security max-age=63072000
}

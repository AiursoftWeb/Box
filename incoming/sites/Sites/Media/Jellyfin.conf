# Protected by IP.
media.aiursoft.cn {
	log
	@blocked not remote_ip 10.0.0.0/8 172.18.0.0/16

	handle @blocked {
		header Content-Type text/html
		respond "<h1>You shouldn't watch my private videos :)</h1>" 401
	}
	encode br gzip
	reverse_proxy http://jellyfin:8096 {
	}
}

# Protected by IP.
mediadav.aiursoft.cn {
	log
	@blocked not remote_ip 10.0.0.0/8 172.18.0.0/16

	handle @blocked {
		header Content-Type text/html
		respond "<h1>You shouldn't watch my private videos :)</h1>" 401
	}
	encode br gzip
	reverse_proxy http://jellyfin:48466 {
	}
}

# Protected by IP.
media2.aiursoft.cn {
	log
	import hsts
	encode br gzip
	@blocked not remote_ip 10.0.0.0/8 172.18.0.0/16

	handle @blocked {
		header Content-Type text/html
		respond "<h1>You shouldn't watch my private videos :)</h1>" 401
	}
	reverse_proxy http://jellyfin_web:8096 {
	}
}

mediadav2.aiursoft.cn {
	log
	import hsts
	encode br gzip
	@blocked not remote_ip 10.0.0.0/8 172.18.0.0/16

	handle @blocked {
		header Content-Type text/html
		respond "<h1>You shouldn't watch my private videos :)</h1>" 401
	}
	reverse_proxy http://jellyfin_webdav:5000 {
	}
}
version: '3.3'

services:
  remotely:
    image: hub.aiursoft.cn/immybot/remotely
    volumes:
      - remotely-data:/remotely-data
      - remotely-asp:/root/.aspnet
    ports:
      - 48480:8080
    environment:
      - ASPNETCORE_ENVIRONMENT=Production
      - ASPNETCORE_HTTP_PORTS=8080
      - Remotely_ApplicationOptions__DbProvider=SQLite
    deploy:
      labels:
        swarmpit.service.deployment.autoredeploy: 'true'

volumes:
  remotely-data:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: /swarm-vol/remotely-data
  remotely-asp:
    driver: local
    driver_opts:
      type: none
      o: bind
      device: /swarm-vol/remotely-asp